<!DOCTYPE html>
<html lang="zh-CN">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>数据结构-队列 - 黑白の世界</title><meta name="Description" content="完成对队列的定义，实现与应用"><meta property="og:title" content="数据结构-队列" />
<meta property="og:description" content="完成对队列的定义，实现与应用" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/queue/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-10-31T21:58:57+08:00" />
<meta property="article:modified_time" content="2022-10-31T21:58:57+08:00" /><meta property="og:site_name" content="黑白の世界" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="数据结构-队列"/>
<meta name="twitter:description" content="完成对队列的定义，实现与应用"/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/post/queue/" /><link rel="prev" href="http://localhost:1313/post/stack/" /><link rel="next" href="http://localhost:1313/post/dict/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "数据结构-队列",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/post\/queue\/"
        },"genre": "post","keywords": "data structure","wordcount":  1771 ,
        "url": "http:\/\/localhost:1313\/post\/queue\/","datePublished": "2022-10-31T21:58:57+08:00","dateModified": "2022-10-31T21:58:57+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "y1nhui"
            },"description": "完成对队列的定义，实现与应用"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="黑白の世界">黑白の世界</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/post/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/friend/"> 友链 </a><a class="menu-item" href="/about/" title="About"> About </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="黑白の世界">黑白の世界</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/post/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/friend/" title="">友链</a><a class="menu-item" href="/about/" title="About">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="page single special"><h1 class="single-title animate__animated animate__pulse animate__faster">数据结构-队列</h1><div class="content" id="content"><h1 id="数据结构-队列">数据结构 队列</h1>
<h2 id="定义">定义</h2>
<p>队列：遵循先进先出原则的线性表。其插入与删除操作分别在表的两端进行。进行插入操作的是队尾(back/rear)，删除操作的是队首(front)</p>
<p>常见方法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Queue</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nf">Empty</span><span class="p">()</span> <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">   <span class="nf">Size</span><span class="p">()</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// 返回队首值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nf">Front</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// 返回队尾值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nf">Back</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// 返回并删除队首元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nf">Pop</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// 将元素插入队尾
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nf">Push</span><span class="p">(</span><span class="kd">interface</span><span class="p">{})</span> <span class="kt">bool</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="实现">实现</h2>
<p>基于定义，编写数组与链表实现的队列</p>
<h3 id="数组实现">数组实现</h3>
<p>在编写数组实现之前，我们首先需要思考一个问题。
front、back、size的关系应该是什么。</p>
<p>基于定义，首先想到</p>
<p><code>front = a[0]</code>,<code>back=a[size-1]</code></p>
<p>也就是</p>
<p><code>location(i)=i</code></p>
<p>如果是这样的话，我们每次进行插入操作，只需要直接将<code>a[size]</code>写入值即可，也就是一个 O(1) 操作</p>
<p>但是删除的话，我们就需要将全部元素向前移动一位，这样的话就是O(n)</p>
<p>那如果更改一下呢</p>
<p><code>back = a[front+size]</code></p>
<p>即 <code>location(i)=location(front+i)</code></p>
<p>用图像表示的话如下：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/static/queue/queue-1.png"
        data-srcset="/static/queue/queue-1.png, /static/queue/queue-1.png 1.5x, /static/queue/queue-1.png 2x"
        data-sizes="auto"
        alt="/static/queue/queue-1.png"
        title="图1" /></p>
<p>手绘，字丑，意会即可</p>
<p>如此操作的话，无论是pop还是push，都只是移动指针而不是元素，也就都是O(1)，代价就是这个队列的空间会不断被浪费</p>
<p>那么就继续优化</p>
<p><code>back = a[front+size]%arryLen</code></p>
<p>即 <code>location(i)=location(front+i)%arrLen</code></p>
<p>很明显，如果这样的话，我们就可以将数组看出一个环了。进站出站都是围着这个环来做，这也就不是普通的队列了，是循环队列了</p>
<p>可见图（这里我们对front的定义做了点改动，不再是删除的节点，而是该节点的前一个节点）</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/static//queue//queue-2.png"
        data-srcset="/static//queue//queue-2.png, /static//queue//queue-2.png 1.5x, /static//queue//queue-2.png 2x"
        data-sizes="auto"
        alt="/static//queue//queue-2.png"
        title="图-2" /></p>
<p>这样的话，我们也可以通过 <code>front = back</code> 来判断队列为空</p>
<p>不过有个问题，就是大家想一下就会发现，如果我们给队列完全填满了，他也会是<code>front = back</code></p>
<p>这是不行的，所以我们需要在加一条限制，队列的最大容量是 arryLen - 1 每次push前做一次检测，如果发现当前容量已经是最大容量了，需要进行一次扩容(arryLen = arryLen*2) 才可以进行push</p>
<p>明确了这些后，就可以开始编码了。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ArrayQueue</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">QueueFront</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">QueueBack</span>  <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Array</span>      <span class="p">[]</span><span class="kd">interface</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">QueueSize</span>  <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">New</span><span class="p">()</span> <span class="o">*</span><span class="nx">ArrayQueue</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">array</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kd">interface</span><span class="p">{},</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="o">&amp;</span><span class="nx">ArrayQueue</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">QueueFront</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">QueueBack</span><span class="p">:</span>  <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Array</span><span class="p">:</span>      <span class="nx">array</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">QueueSize</span><span class="p">:</span>  <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">ArrayQueue</span><span class="p">)</span> <span class="nf">Empty</span><span class="p">()</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// return q.queueFront == q.queueBack
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span> <span class="o">==</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">ArrayQueue</span><span class="p">)</span> <span class="nf">Size</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">ArrayQueue</span><span class="p">)</span> <span class="nf">Front</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Empty</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">[</span><span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">ArrayQueue</span><span class="p">)</span> <span class="nf">Back</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Empty</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">[</span><span class="nx">q</span><span class="p">.</span><span class="nx">QueueBack</span><span class="p">],</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">ArrayQueue</span><span class="p">)</span> <span class="nf">Pop</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Empty</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">front</span> <span class="o">:=</span> <span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">val</span> <span class="o">:=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">[</span><span class="nx">front</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">[</span><span class="nx">front</span><span class="p">]</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span> <span class="p">=</span> <span class="nx">front</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span><span class="o">--</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">val</span><span class="p">,</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">ArrayQueue</span><span class="p">)</span> <span class="nf">Push</span><span class="p">(</span><span class="nx">val</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Size</span><span class="p">()</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">q</span><span class="p">.</span><span class="nx">Array</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">,</span> <span class="nb">make</span><span class="p">([]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">))</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">back</span> <span class="o">:=</span> <span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">QueueBack</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">Array</span><span class="p">[</span><span class="nx">back</span><span class="p">]</span> <span class="p">=</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueBack</span> <span class="p">=</span> <span class="nx">back</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="链表实现">链表实现</h3>
<p>基于单链表实现同样要区分一下哪里是队列头，哪里是队列尾</p>
<p>首先我们需要两个指针，front与back 分别指向头与尾</p>
<p>如果是插入操作的话，无论哪一端是队尾都是很简单的</p>
<p>如果头节点是队尾：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">queue</span><span class="p">=</span> <span class="o">&amp;</span><span class="nx">node</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Val</span><span class="p">:</span><span class="nx">val</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Next</span><span class="p">:</span><span class="nx">head</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>如果链表结尾是队尾：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">back</span><span class="p">.</span><span class="nx">Next</span> <span class="o">:=</span>  <span class="o">&amp;</span><span class="nx">node</span><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">Val</span><span class="p">:</span><span class="nx">val</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">Next</span><span class="p">:</span><span class="kc">nil</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">back</span> <span class="p">=</span> <span class="nx">back</span><span class="p">.</span><span class="nx">Next</span>
</span></span></code></pre></div><p>可见他们都是O(1)操作，但是删除操作就不一样了。</p>
<p>假设是头节点为队尾，那么删除操作需要先遍历到队尾前一个节点，随后断开链。</p>
<p>而链尾是队尾的情况只需要让 <code>front = front.Next</code> 就可以轻松断开</p>
<p>所以我们定义这个链表实现的队列，头节点处为队首，尾节点处为队尾</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">LinkedQueue</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// 指向链首
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">QueueFront</span> <span class="o">*</span><span class="nx">chainNode</span>
</span></span><span class="line"><span class="cl">	<span class="nx">QueueBack</span>  <span class="o">*</span><span class="nx">chainNode</span>
</span></span><span class="line"><span class="cl">	<span class="nx">QueueSize</span>  <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">chainNode</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Val</span>  <span class="kd">interface</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Next</span> <span class="o">*</span><span class="nx">chainNode</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">LinkedQueue</span><span class="p">)</span> <span class="nf">Empty</span><span class="p">()</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">		if q.QueueBack == q.QueueBack &amp;&amp; q.QueueFront == nil {
</span></span></span><span class="line"><span class="cl"><span class="cm">			return true
</span></span></span><span class="line"><span class="cl"><span class="cm">		}
</span></span></span><span class="line"><span class="cl"><span class="cm">		return false
</span></span></span><span class="line"><span class="cl"><span class="cm">	*/</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span> <span class="o">==</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">LinkedQueue</span><span class="p">)</span> <span class="nf">Size</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">LinkedQueue</span><span class="p">)</span> <span class="nf">Front</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Empty</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span><span class="p">.</span><span class="nx">Val</span><span class="p">,</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">LinkedQueue</span><span class="p">)</span> <span class="nf">Back</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Empty</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueBack</span><span class="p">.</span><span class="nx">Val</span><span class="p">,</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">LinkedQueue</span><span class="p">)</span> <span class="nf">Pop</span><span class="p">()</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Empty</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">val</span> <span class="o">:=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span><span class="p">.</span><span class="nx">Val</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span> <span class="p">=</span> <span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span><span class="p">.</span><span class="nx">Next</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span><span class="o">--</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">val</span><span class="p">,</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">q</span> <span class="o">*</span><span class="nx">LinkedQueue</span><span class="p">)</span> <span class="nf">Push</span><span class="p">(</span><span class="nx">val</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">node</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">chainNode</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Val</span><span class="p">:</span> <span class="nx">val</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">q</span><span class="p">.</span><span class="nf">Empty</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">q</span><span class="p">.</span><span class="nx">QueueFront</span> <span class="p">=</span> <span class="nx">node</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">q</span><span class="p">.</span><span class="nx">QueueBack</span><span class="p">.</span><span class="nx">Next</span> <span class="p">=</span> <span class="nx">node</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueBack</span> <span class="p">=</span> <span class="nx">node</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span><span class="p">.</span><span class="nx">QueueSize</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="应用">应用</h2>
<p>应用方面仍然使用leetcode题目作为演示</p>
<h3 id="字符串中的第一个唯一字符">字符串中的第一个唯一字符</h3>
<p><a href="https://leetcode.cn/problems/first-unique-character-in-a-string/" target="_blank" rel="noopener noreffer ">leetcode</a></p>
<p>送一个长度为n的字符串（只有小写字母），要求返回第一个无重复字符串的索引。</p>
<p>这里解法是先写一个长度为26的数组。从a[0]到a[25]分别代表a-z
将它们的值置为n,代表还未检索到。</p>
<p>创建一个队列，之后开始检索字符串。每检索到一个字符串便将对应的a[x]的值置为该字符串的索引，并且将索引与字节的结构体送入队列。
如果发现已经有索引了，就开始清空队列，一直清到队首的结构体没有被检索。</p>
<p>一直到将字符串检索完，如果这是队列非空，则队首的值是唯一的，如果为空则说明无唯一字符，返回-1</p>
<p>代码实现：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">pair</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ch</span>  <span class="kt">byte</span>
</span></span><span class="line"><span class="cl">	<span class="nx">pos</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">firstUniqChar</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">alpbabet</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">26</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">alpbabet</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">alpbabet</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">n</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span> <span class="o">:=</span> <span class="p">[]</span><span class="o">*</span><span class="nx">pair</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">s</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">b</span> <span class="o">:=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">		<span class="nx">index</span> <span class="o">:=</span> <span class="nx">b</span> <span class="o">-</span> <span class="sc">&#39;a&#39;</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">alpbabet</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="o">==</span> <span class="nx">n</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">q</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">pair</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">ch</span><span class="p">:</span>  <span class="nx">b</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">				<span class="nx">pos</span><span class="p">:</span> <span class="nx">i</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="p">})</span>
</span></span><span class="line"><span class="cl">			<span class="nx">alpbabet</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="p">=</span> <span class="nx">i</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">alpbabet</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="p">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">			<span class="k">for</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">index</span> <span class="o">:=</span> <span class="nx">q</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ch</span> <span class="o">-</span> <span class="sc">&#39;a&#39;</span>
</span></span><span class="line"><span class="cl">				<span class="k">if</span> <span class="nx">alpbabet</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="o">==</span> <span class="nx">n</span><span class="o">+</span><span class="mi">1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="nx">q</span> <span class="p">=</span> <span class="nx">q</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="k">break</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">)</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">q</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="o">-</span><span class="mi">1</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="总结">总结</h2>
<p>本文完成了对队列的定义与代码实现，并且就队列完成了一道leetcode题目</p>
<p>其实最开始想引用参考书籍里的例子，但多为应用题或之前章节题目的部分的改进，叙述过多，所以并未使用。</p>
<p>这次学习与博文撰写期间，周末公司外出团建，耽搁时间略多，虽然回来后还是有些晕车想吐，所幸还是写出了这篇文章，没有在计划开启的第二个星期就失败</p></div></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.123.7">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/zzy2210" target="_blank">y1nhui</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp">皖ICP备19008609号-1</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
